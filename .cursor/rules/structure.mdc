---
description: 
globs: 
alwaysApply: true
---

# Directory or files description for this project

- [go.mod](mdc:go.mod) : The Go Mod file defines the package name of this Go project as well as its third-party dependencies. You need to use this package name in your code to correctly reference the Go packages defined in the project, and declare and record any third-party packages you use according to the Go Mod specification in this file.
- [main.go](mdc:main.go) : The entry file of this project, it is generated by cobra, should not be changed.
- [context.go](mdc:api/base/context.go) : The custom context extends gin.Context, I added useful function to the context. You need to first analyze the program in [context.go](mdc:api/base/context.go) and prioritize using the various methods defined in [context.go](mdc:api/base/context.go) to handle normal and error responses.
- [route.go](mdc:api/route/route.go) : Route definition file, all routes are added to this file and can be defined by different functions or categories inside different function groups. Please use `*base.Router` as the route object. You should only write route mapping-related code in [route.go](mdc:api/route/route.go) and must not write object initialization or feature initialization code there.
- [middleware.go](mdc:api/route/middleware.go) : Based on the gin framework's middleware, all new middleware should be placed in this file. And use `base.Context` as the context for requests in the middleware.
- [server.go](mdc:api/server/server.go) : Define and start the gin.Server program, generally do not need to be modified, usually only modify which involves the `github.com/gin-contrib/cors` library to define the cross-domain related configuration, such as adding the domain name, request headers, exposed response headers, or dynamically determine whether the domain name is allowed to cross-domain through the AllowOriginFunc
- [job.go](mdc:queue/job/job.go) : This file defines the Job interface for queue jobs. When using queue tasks, you need to implement each method of this interface, define the job name, specify the queue to use, encode and decode the job data, and define the job's execution method. After a Job is fully defined, it must be registered in the [subscriber.go](mdc:queue/subscriber.go) file.
- /.app.toml : This file is used to store configuration information in TOML format. It can be used to store common configuration settings or environment variables. `/.app.toml.example` is a sample template for the configuration file. When adding or modifying configurations, you need to provide examples in the template.
- /api/handler : This directory is used to store all handler programs that process HTTP requests. All handlers need to use base.Context as a parameter and be properly mapped in the [route.go](mdc:api/route/route.go) file.
- /cache : This directory is used to store all programs related to cache operations. The cache uses Redis for data storage. This directory encapsulates all Redis operations through the use of the cache. The cache is implemented using the `github.com/go-redis/cache/v9` library.
- /cmd : This directory is used to store command-line programs, utilizing the `github.com/spf13/cobra` library. It allows invoking non-HTTP functionalities from the command line.
- /db : This directory is db package, used to store programs related to the database and ORM. All ORM-related types and operations should be placed in this directory. We use the `gorm.io/gorm` library as the underlying ORM, and database access via GORM can be obtained through the `db` variable. The `db` variable is globally accessible within the `db` package. In other packages, you can obtain a reference to `db` by calling `DB()` to use the ORM. You should try to avoid performing direct `db` operations outside of the `db` package.
- /queue/job : This directory is used to store all programs related to queue jobs. For the Job interface specification, please refer to the description in [job.go](mdc:queue/job/job.go) .
- /redis : This directory is redis package, used to store all wrapper programs that directly operate on Redis data. It is important to note that when operating on Redis keys, you should use the `WithPrefix` function to add a prefix to the key, and this prefix is defined through the configuration file. The GetClient method in the redis package can be used to obtain a redis.Client object for operating on Redis. You can use GetClient in external packages. However, you should try to write Redis operation programs within the redis package for reuse in other packages. If it is a common caching operation, you should prioritize using the cache package.
- /services : This directory is used to store programs that call functionalities of third-party or external systems. Programs that can exist relatively independently can also be placed in this folder.
- /xutil : This folder is used to store custom utility functions. Independent and reusable utility functions can be placed here. This folder already includes encryption and decryption functions as well as some common string processing functions.
- /embed/static : This directory is used to store static asset files, which can include HTML, JavaScript, CSS, images, etc. These files will be bundled into the Golang binary during the compilation process.
- /embed/views : This directory is used to store HTML files that will be rendered by Golang. HTML files can be categorized into subfolders based on their functionality. Place basic layout files in the `/embed/views/layout` directory, shared components in the `/embed/views/shared` directory, and other specific pages can be categorized according to their functional modules. To automatically reference the layout, page files need to follow the naming convention. The convention is as follows: If the base layout file is named `mylayout.html`, the functional page file should be named `feature.mylayout.html`, i.e., `featureName` + `layoutFileName`.
- /embed/ui : This directory is used to store programs related to front-end frameworks, such as independent programs for Vue, React, and other front-end projects.
